let pokemonRepository=function(){let e=[],t=document.querySelector(".modal-close");function n(e){let t=$(".modal-body"),n=$(".modal-title"),i=$(".modal-header"),o=$(".modal-footer");n.empty(),t.empty(),i.empty(),o.empty();let r=$("<h2>"+e.name+"</h2"),a=$('<img class="img" style=:width:100%>');a.attr("src",e.imageUrl);let l=$("<p>"+e.name+"<p>"),s=$(`<p>Height : ${e.height}</p>`),p=$(`<p>Weight : ${e.weight}</p>`),c=$(`<p>Type : ${e.types}</p>`),u=$(`<p>abilities : ${e.abilities}</p>`);n.append(r),t.append(l),t.append(a),t.append(s),t.append(p),t.append(u),t.append(c)}function i(){exampleModal.classList.remove("is-visible")}function o(e){l(e).then(function(){n(e),console.log(e)})}function r(t){e.push(t)}function a(){return e}function l(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(function(e){return e.type.name}),e.abilities=t.abilities.map(function(e){return e.ability.name})}).catch(function(e){console.error(e)})}t&&t.addEventListener("click",i),window.addEventListener("keydown",e=>{"Escape"===e.key&&exampleModal.classList.contains("is-visible")&&i()}),exampleModal.addEventListener("click",e=>{e.target===exampleModal&&i()});let s=document.querySelector('input[type="search"]');function p(e){pokemonRepository.addListItem(e)}return s.addEventListener("input",()=>{let e=s.value,t=pokemonRepository.filterPokemons(e);(function e(){let t=document.querySelector(".list-group");t.innerHTML=""})(),0===t.length?function e(t){let n=document.querySelector(".list-group");n.innerHTML=`<li>${t}</li>`}("Sorry. There are no Pok\xe9mon matching your search criteria."):t.forEach(p)}),{add:r,getAll:a,addListItem:function e(t){let n=document.querySelector(".list-group"),i=document.createElement("li");i.classList.add("button-class");let r=document.createElement("button");r.innerText=t.name,r.setAttribute("data-toggle","modal"),r.setAttribute("data-target","#exampleModal"),i.appendChild(r),n.appendChild(i),r.addEventListener("click",function(){o(t)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){r({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:l,showDetails:o,showModal:n,filterPokemons:function t(n){return e.filter(e=>{let t=e.name.toLowerCase(),i=n.toLowerCase();return t.startsWith(i)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e,t){pokemonRepository.addListItem(e,t+1)})});